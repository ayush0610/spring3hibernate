[
    {
      "name": "spring3hibernate",
      "image": "188078574990.dkr.ecr.us-east-1.amazonaws.com/spring3hibernate:latest",
      "cpu": 10,
      "memory": 128,
      "essential": true,
      "portMappings": [
        {
          "containerPort": 8080
        }
      ],
      "dependsOn": [
          {
            "containerName": "mysql",
            "condition": "START"
          }
        ]
    },

    {
        "name": "mysql",
        "image": "188078574990.dkr.ecr.us-east-1.amazonaws.com/mysql:latest",
        "cpu": 10,
        "memory": 128,
        "essential": true,
        "portMappings": [
            {
              "containerPort": 3306
            }
          ],
          "environment": [
              {
                "name": "MYSQL_DATABASE",
                "value": "employeedb"
              },
              {
                "name": "MYSQL_USER",
                "value": "root"
              },
              {
                "name": "MYSQL_PASSWORD",
                "value": "password"
              },
              {
                "name": "MYSQL_ROOT_PASSWORD",
                "value": "password"
              }              
          ]
    },
    {
        "name": "nginx",
        "image": "188078574990.dkr.ecr.us-east-1.amazonaws.com/nginx:latest",
        "cpu": 10,
        "memory": 128,
        "essential": true,
        "portMappings": [
          {
            "containerPort": 80
          }
        ],
        "dependsOn": [
            {
              "containerName": "spring3hibernate",
              "condition": "START"
            }
          ] 
    }
]